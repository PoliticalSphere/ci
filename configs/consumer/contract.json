{
  "meta": {
    "version": "1.1.0",
    "owner": "political-sphere",
    "classification": "internal",
    "last_reviewed": "2026-01-02",
    "review_interval_days": 180,
    "changelog": [
      {
        "version": "1.1.0",
        "date": "2026-01-02",
        "changes": [
          "Fixed repository reference from ci-cd-platform to ci",
          "Updated path_integrity.roots to match actual app structure (apps, libs, tools)",
          "Added ai directory to path_integrity.roots",
          "Added .vitest, .playwright, prisma to ignore list",
          "Updated last_reviewed date"
        ]
      }
    ]
  },
  "policy": {
    "mode": "enforce",
    "fail_on_unknown": true,
    "fail_on_missing": true,
    "package_manager": {
      "name": "npm",
      "lockfile": "package-lock.json"
    },
    "required_files": ["package.json", "package-lock.json", "tsconfig.json"],
    "forbidden_files": ["yarn.lock", "pnpm-lock.yaml"],
    "required_scripts": {
      "lint": ["lint", "lint:all"],
      "typecheck": ["typecheck"],
      "test": ["test"],
      "build": ["build"]
    },
    "tooling": {
      "require": [
        "typescript",
        "vitest",
        "@playwright/test",
        "eslint",
        "@biomejs/biome"
      ],
      "disallow": ["jest", "mocha", "ts-jest", "tslint"],
      "notes": {
        "biome": "Fast general linting and formatting",
        "eslint": "Specialist and security-focused rules",
        "vitest": "Unit and integration testing",
        "@playwright/test": "E2E and accessibility testing"
      }
    },
    "workflows": {
      "required_reusable": [
        "PoliticalSphere/ci/.github/workflows/pr-gates.yml",
        "PoliticalSphere/ci/.github/workflows/security-scheduled.yml"
      ],
      "allowed_top_level": [
        "pr-gates.yml",
        "security-scheduled.yml",
        "build-artifacts.yml",
        "release.yml",
        "license-compliance.yml",
        "consumer-contract.yml"
      ]
    },
    "docs_claims": [
      {
        "path": "README.md",
        "contains": "vitest",
        "requires_tools": ["vitest"]
      },
      {
        "path": "README.md",
        "contains": "playwright",
        "requires_tools": ["@playwright/test"]
      }
    ],
    "path_integrity": {
      "enabled": true,
      "roots": ["apps", "libs", "tools", "ai"],
      "ignore": [
        "node_modules",
        "dist",
        "build",
        "reports",
        "logs",
        "coverage",
        ".next",
        ".turbo",
        ".nx",
        ".vitest",
        ".playwright",
        "prisma/generated"
      ],
      "extensions": [".ts", ".tsx", ".js", ".jsx", ".mts", ".cts"]
    }
  }
}
